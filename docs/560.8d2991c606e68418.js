"use strict";(self.webpackChunkFreshCart=self.webpackChunkFreshCart||[]).push([[560],{6560:(M,g,a)=>{a.r(g),a.d(g,{RegisterComponent:()=>Q});var d=a(6814),l=a(95),e=a(4769),c=a(9410),f=a(1120);function Z(r,s){if(1&r&&(e.TgZ(0,"div",18),e._uU(1),e.qZA()),2&r){const o=e.oxw();e.xp6(1),e.hij(" ",o.errorMessage," ")}}function h(r,s){1&r&&(e.TgZ(0,"p"),e._uU(1,"Name Is Required"),e.qZA())}function v(r,s){1&r&&(e.TgZ(0,"p"),e._uU(1,"Minimum Length For Name Is 3"),e.qZA())}function T(r,s){1&r&&(e.TgZ(0,"p"),e._uU(1,"Maximum Length For Name Is 20"),e.qZA())}function x(r,s){if(1&r&&(e.TgZ(0,"div",19),e.YNc(1,h,2,0,"p",20),e.YNc(2,v,2,0,"p",20),e.YNc(3,T,2,0,"p",20),e.qZA()),2&r){const o=e.oxw();let n,t,i;e.xp6(1),e.Q6J("ngIf",null==(n=o.registerForm.get("name"))||null==n.errors?null:n.errors.required),e.xp6(1),e.Q6J("ngIf",null==(t=o.registerForm.get("name"))||null==t.errors?null:t.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==(i=o.registerForm.get("name"))||null==i.errors?null:i.errors.maxlength)}}function I(r,s){1&r&&(e.TgZ(0,"p"),e._uU(1,"Email Is Required"),e.qZA())}function A(r,s){1&r&&(e.TgZ(0,"p"),e._uU(1,"Invalid Email"),e.qZA())}function q(r,s){if(1&r&&(e.TgZ(0,"div",19),e.YNc(1,I,2,0,"p",20),e.YNc(2,A,2,0,"p",20),e.qZA()),2&r){const o=e.oxw();let n,t;e.xp6(1),e.Q6J("ngIf",null==(n=o.registerForm.get("email"))||null==n.errors?null:n.errors.required),e.xp6(1),e.Q6J("ngIf",null==(t=o.registerForm.get("email"))||null==t.errors?null:t.errors.email)}}function w(r,s){1&r&&(e.TgZ(0,"p"),e._uU(1,"Password Is Required"),e.qZA())}function C(r,s){1&r&&(e.TgZ(0,"p"),e._uU(1,"Password Must Be At Least 6 Chars"),e.qZA())}function R(r,s){if(1&r&&(e.TgZ(0,"div",19),e.YNc(1,w,2,0,"p",20),e.YNc(2,C,2,0,"p",20),e.qZA()),2&r){const o=e.oxw();let n,t;e.xp6(1),e.Q6J("ngIf",null==(n=o.registerForm.get("password"))||null==n.errors?null:n.errors.required),e.xp6(1),e.Q6J("ngIf",null==(t=o.registerForm.get("password"))||null==t.errors?null:t.errors.pattern)}}function F(r,s){1&r&&(e.TgZ(0,"p"),e._uU(1,"rePassword Is Required"),e.qZA())}function b(r,s){1&r&&(e.TgZ(0,"p"),e._uU(1,"Password Confirmation Is Incorrect"),e.qZA())}function N(r,s){if(1&r&&(e.TgZ(0,"div",19),e.YNc(1,F,2,0,"p",20),e.YNc(2,b,2,0,"p",20),e.qZA()),2&r){const o=e.oxw();let n,t;e.xp6(1),e.Q6J("ngIf",null==(n=o.registerForm.get("rePassword"))||null==n.errors?null:n.errors.required),e.xp6(1),e.Q6J("ngIf",null==(t=o.registerForm.get("rePassword"))||null==t.errors?null:t.errors.mismatch)}}function P(r,s){1&r&&(e.TgZ(0,"p"),e._uU(1,"Phone Is Required"),e.qZA())}function U(r,s){1&r&&(e.TgZ(0,"p"),e._uU(1,"Accept Only An Egyption Phone Number"),e.qZA())}function J(r,s){if(1&r&&(e.TgZ(0,"div",19),e.YNc(1,P,2,0,"p",20),e.YNc(2,U,2,0,"p",20),e.qZA()),2&r){const o=e.oxw();let n,t;e.xp6(1),e.Q6J("ngIf",null==(n=o.registerForm.get("phone"))||null==n.errors?null:n.errors.required),e.xp6(1),e.Q6J("ngIf",null==(t=o.registerForm.get("phone"))||null==t.errors?null:t.errors.pattern)}}function Y(r,s){if(1&r&&(e.TgZ(0,"button",21),e._uU(1,"Register"),e.qZA()),2&r){const o=e.oxw();e.Q6J("disabled",o.registerForm.invalid)}}function E(r,s){1&r&&(e.TgZ(0,"button",22),e._UZ(1,"i",23),e.qZA())}let Q=(()=>{class r{constructor(o,n,t){this._AuthService=o,this._Router=n,this._FormBuilder=t,this.errorMessage="",this.loading=!1,this.registerForm=this._FormBuilder.group({name:["",[l.kI.required,l.kI.minLength(3),l.kI.maxLength(20)]],email:["",[l.kI.required,l.kI.email]],password:["",[l.kI.required,l.kI.pattern(/^[A-Za-z0-9@#%$!&^_-]{6,}$/)]],rePassword:[""],phone:["",[l.kI.required,l.kI.pattern(/^01[0125][0-9]{8}$/)]]},{validators:[this.confirmPassword]})}confirmPassword(o){const n=o.get("password"),t=o.get("rePassword");""==t?.value?t?.setErrors({required:!0}):n?.value!=t?.value&&t?.setErrors({mismatch:!0})}handleForm(){const o=this.registerForm.value;this.loading=!0,!0===this.registerForm.valid&&this._AuthService.register(o).subscribe({next:n=>{console.log(n),"success"==n.message&&this._Router.navigate(["/login"]),this.loading=!1},error:n=>{this.errorMessage=n.error.message,console.log(n),this.loading=!1}})}static#e=this.\u0275fac=function(n){return new(n||r)(e.Y36(c.e),e.Y36(f.F0),e.Y36(l.qu))};static#r=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-register"]],standalone:!0,features:[e.jDz],decls:32,vars:9,consts:[[1,"mx-auto","shadow","rounded","p-4","my-4","bg-main-light"],[1,"mb-3"],["class","alert alert-danger text-center w-50 mx-auto",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"form-item","my-2"],["for","name"],["formControlName","name","type","text","id","name","name","name",1,"form-control"],["class","alert alert-danger",4,"ngIf"],["for","email"],["formControlName","email","type","email","id","email","name","email",1,"form-control"],["for","password"],["formControlName","password","type","password","id","password","name","password",1,"form-control"],["for","rePassword"],["formControlName","rePassword","type","password","id","rePassword","name","rePassword",1,"form-control"],["for","phone"],["formControlName","phone","type","tel","id","phone","name","phone",1,"form-control"],["type","submit","class","btn main-btn d-block ms-auto",3,"disabled",4,"ngIf"],["type","button","class","btn btn-success d-block ms-auto",4,"ngIf"],[1,"alert","alert-danger","text-center","w-50","mx-auto"],[1,"alert","alert-danger"],[4,"ngIf"],["type","submit",1,"btn","main-btn","d-block","ms-auto",3,"disabled"],["type","button",1,"btn","btn-success","d-block","ms-auto"],[1,"fa-solid","fa-spinner","fa-spin"]],template:function(n,t){if(1&n&&(e.TgZ(0,"section",0)(1,"h3",1),e._uU(2,"Register Now :"),e.qZA(),e.YNc(3,Z,2,1,"div",2),e.TgZ(4,"form",3),e.NdJ("ngSubmit",function(){return t.handleForm()}),e.TgZ(5,"div",4)(6,"label",5),e._uU(7,"Name:"),e.qZA(),e._UZ(8,"input",6),e.YNc(9,x,4,3,"div",7),e.qZA(),e.TgZ(10,"div",4)(11,"label",8),e._uU(12,"Email:"),e.qZA(),e._UZ(13,"input",9),e.YNc(14,q,3,2,"div",7),e.qZA(),e.TgZ(15,"div",4)(16,"label",10),e._uU(17,"Password:"),e.qZA(),e._UZ(18,"input",11),e.YNc(19,R,3,2,"div",7),e.qZA(),e.TgZ(20,"div",4)(21,"label",12),e._uU(22,"Repassword:"),e.qZA(),e._UZ(23,"input",13),e.YNc(24,N,3,2,"div",7),e.qZA(),e.TgZ(25,"div",4)(26,"label",14),e._uU(27,"Phone:"),e.qZA(),e._UZ(28,"input",15),e.YNc(29,J,3,2,"div",7),e.qZA(),e.YNc(30,Y,2,1,"button",16),e.YNc(31,E,2,0,"button",17),e.qZA()()),2&n){let i,u,m,_,p;e.xp6(3),e.Q6J("ngIf",t.errorMessage),e.xp6(1),e.Q6J("formGroup",t.registerForm),e.xp6(5),e.Q6J("ngIf",(null==(i=t.registerForm.get("name"))?null:i.errors)&&(null==(i=t.registerForm.get("name"))?null:i.touched)),e.xp6(5),e.Q6J("ngIf",(null==(u=t.registerForm.get("email"))?null:u.errors)&&(null==(u=t.registerForm.get("email"))?null:u.touched)),e.xp6(5),e.Q6J("ngIf",(null==(m=t.registerForm.get("password"))?null:m.errors)&&(null==(m=t.registerForm.get("password"))?null:m.touched)),e.xp6(5),e.Q6J("ngIf",(null==(_=t.registerForm.get("rePassword"))?null:_.errors)&&(null==(_=t.registerForm.get("rePassword"))?null:_.touched)),e.xp6(5),e.Q6J("ngIf",(null==(p=t.registerForm.get("phone"))?null:p.errors)&&(null==(p=t.registerForm.get("phone"))?null:p.touched)),e.xp6(1),e.Q6J("ngIf",!t.loading),e.xp6(1),e.Q6J("ngIf",t.loading)}},dependencies:[d.ez,d.O5,l.UX,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u]})}return r})()}}]);